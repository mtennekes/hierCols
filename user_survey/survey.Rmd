---
title: Hierarchische kleurenpaletten
author: 
 - Martijn Tennekes
 - Edwin de Jonge
---

Hierarchische kleurpaletten
========================================================

We willen graag het gebruik van kleuren om classificatiestructuren
te verduidelijken onderzoeken. We hebben zo meteen een aantal vragen voor je. 
We verwachten dat het niet meer dan 5 minuten van je kostbare tijd kost. 

(Of moet dit in een begeleidend mailtje?)
Je kunt je antwoorden in dit document invullen en terugsturen naar m.tennekes@cbs.nl
of het document printen en het ingevulde document sturen naar Martijn Tennekes, kamer
2A42 (Heerlen).

Alle gebruikte __classificaties__ en voorbeelden zijn __fictief__! 

Alvast hartelijk dank voor je medewerking!

```{r initializatie, echo=FALSE, message=FALSE}
knitr::opts_chunk$set(echo=FALSE, message=FALSE, warning=FALSE)
library(treemap)
library(igraph)
library(grid)

source("../R/survey_data.R")
dats_tm <- generateRandomHierData(2, seeds=c(20140114, 20140115))
dats_gr <- generateRandomHierData(2, seeds=c(20140116, 20140117), levs=c(3,6,17), addText=FALSE)
#dats_gr <- generateRandomHierData(2, seeds=c(20140116, 20140117), levs=c(5, 13, 30), addText=FALSE)


group <- 2

branches_tm1 <- list(c("HZ", "AF", "SD", "KL", "SX"),
                    c("JM", "HD", "EP", "EN", "PQ"))

branches_tm2 <- c("Hoofdcategorie AJ", "Hoofdcategorie SA")

branches_gr1 <- list(c("J", "K", "S", "C"),
                     c("K", "J", "A", "L"))
branches_gr2 <- c("G", "B")

seeds_gr <- c(20140101, 20140102)

```

### Vraag 1

Ben je (gedeeltelijk) kleurenblind?

```
Antwoord: 
```
### Vraag 2

Hieronder in figuur 1 zie je een zogenaamde treemap die de omzet per branch weergeeft. De Hoe groter de rechthoek, hoe groter de omzet.
Om het gebruik van voorkennis uit te sluiten coderen we de branches met letters. Let op: deze codes zijn __willekeurig__ gekozen en hebbben niets te maken met
SBI codes.

```{r treemap1, fig.cap="Treemap 1"}
tm <- treemap(dats_tm[[group]], index=c("h1", "h2", "h3"), vSize="value", title="", bg.labels=255)  

addSymbols(tm, branches_tm1[[group]], symbols=c("+", "*", "*", "*", "*"))
```

#### a)

Kruis de branch/branches aan die het meest verwant is/zijn met 
`r branches_tm1[[group]][1]` (het blauwe plusje) uit onderstaande keuzes
(die zijn aangegeven met blauwe sterretjes):

```{r choices, comment=NA}
for (i in branches_tm1[[group]][-1]) {
    cat("[]", i, "\n")
}
```

#### b) 

Hoeveel subcategoriën bevat `r branches_tm2[[group]]`?

```
Antwoord: 
```
#### c)

Wat vind je van de volgende stelling?

_"De kleuren in Treemap 1 hebben mij geholpen met het beantwoorden van bovenstaande vragen 2a en 2b."_

1. Helemaal mee oneens
2. Mee oneens
3. Neutraal
4. Mee eens
5. Helemaal mee eens

```
Antwoord: 
```

```{r treemap2, fig.cap="Treemap 2"}
tm <- treemap(dats_tm[[3-group]], index=c("h1", "h2", "h3"), vSize="value", title="", vColor="h1", type="categorical", position.legend="none", palette="Set1")  

addSymbols(tm, branches_tm1[[3-group]], symbols=c("+", "*", "*", "*", "*"))

```

#### d)

Selecteer de branch/branches die het meest verwant is/zijn met `r branches_tm1[[3-group]][1]` (het blauwe plusje) uit onderstaande keuzes (die zijn aangegeven met blauwe sterretjes):

```{r choices2, comment=NA}
for (i in branches_tm1[[3-group]][-1]) {
    cat("[]", i, "\n")
}
```

#### e) 

Hoeveel subcategoriën bevat `r branches_tm2[[3-group]]`?

```
Antwoord: 
```

#### f)

Wat vind je van de volgende stelling?

_"De kleuren in Treemap 2 hebben mij geholpen met het beantwoorden van bovenstaande vragen 2d en 2e."_

1. Helemaal mee oneens
2. Mee oneens
3. Neutraal
4. Mee eens
5. Helemaal mee eens

```
Antwoord: 
```

#### g)

Welke treemap vind je mooier?

```
[] Treemap 1
[] Treemap 2
[] Maakt niet uit
```

#### h)

Welke kleuren vind je geschikter voor analysedoeleinden?

```
[] Kleuren van treemap 1
[] Kleuren van treemap 2
[] Maakt niet uit
```

### Vraag 3
Hieronder zie je twee gerichte grafen die de structuur tussen de branches weergeven. Wederom zijn de gebruikte classificaties fictief en zijn de letters willekeurig gekozen.

```{r graph1, fig.cap="Graaf 1"}
plotGraph(dats_gr[[group]], method="firstcat", seed=seeds_gr[[group]])
#plotGraph(dats_gr[[group]], method="HCP", seed=20140101)
```

#### a)

Selecteer de branch/branches die het meest verwant is/zijn met `r branches_gr1[[group]][1]`:

```{r choices3, comment=NA}
for (i in branches_gr1[[group]][-1]) {
    cat("[]", i, "\n")
}
```

#### b)

Welke branches stammen af van `r branches_gr2[group]`?

```
Antwoord: 
```


#### c)

Wat vind je van de volgende stelling?

_"De kleuren in de treemap hebben mij geholpen met het beantwoorden van bovenstaande vragen 3a en 3b."_

1. Helemaal mee oneens
2. Mee oneens
3. Neutraal
4. Mee eens
5. Helemaal mee eens

```
Antwoord: 
```

```{r graph2, fig.cap="Graaf 2"}
#plotGraph(dats_gr[[3-group]], method="firstcat", seed=20140102)
plotGraph(dats_gr[[3-group]], method="HCP", seed=seeds_gr[[3-group]])
```

#### d)

Selecteer de branch/branches die het meest verwant is/zijn met `r branches_gr1[[3-group]][1]`:

```{r choices4, comment=NA}
for (i in branches_gr1[[3-group]][-1]) {
    cat("[]", i, "\n")
}
```

#### e)

Welke branches stammen af van `r branches_gr2[3-group]`?

```
Antwoord: 
```

#### f)

Wat vind je van de volgende stelling?

_"De kleuren in de treemap hebben mij geholpen met het beantwoorden van bovenstaande vragen 3d en 3e."_


1. Helemaal mee oneens
2. Mee oneens
3. Neutraal
4. Mee eens
5. Helemaal mee eens

```
Antwoord: 
```

#### g)

Welke graaf vind je mooier?

```
[] Graaf 1
[] Graaf 2
[] Maak niet uit
```

#### h)
   
Welke kleuren vind je geschikter voor analysedoeleinden?

```
[] Kleuren van graaf 1
[] Kleuren van graaf 2
[] Maak niet uit
```

Dank je wel voor je medewerking!